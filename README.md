# Kafka Самостоятельная работа №1
---
### С помощью файла docker-compose создается кластер из 3 брокеров и интерфейса для взаимодействия с кафкой:
* В кластере используется 3 брокера, чтобы для каждой партиции топика мог быть назначен свой брокер, а так же чтобы можно было выполнить условие для репликации данных
---
### Создано 3 java проекта для тестирования работы кластера брокеров:
* **hw1-producer** - продюссер для кластера брокеров
* **hw1-consumer1** - консьюмер 1
* **hw1-consumer2** - консьюмер 2

### Описание консьюмеров:
#### Консьюмер 1 реализует:
* pull модель получения данных
* вручную управляемый коммит смещения
* групп консьюмеров: group-1

#### Консьюмер 2 реализует:
* push модель получения данных
* автоматический коммит смещения
* групп консьюмеров: group-2
---
## Запуск приложения и проверка его работы:
### Запуск кластера брокеров
* Через консоль необходимо перейти в папку с сохраненным файлом docker-compose.yml
* В консоли выполнить команду "docker compose up -d"
* В консоли выполнить команду "docker ps" должно быть видно 4 работающих контейнера
* В консоли выполнить команду "docker exec -it <container_id_kafka> /bin/sh", где <container_id_kafka> id одного из брокеров кафка, эта команда позволяет взаимодействовать с контейнером кафка.
* В консоли взаимодествия с брокером кафка необходимо выполнить следующие команды:
  * Выполнить команду "cd /opt/bitnami/kafka/bin" для переходв в папку с файлом kafka-topics.sh
  * Выполнить команду создания топика 'topic-hw1' с 3 партициями и 2 репликами "kafka-topics.sh --create --topic topic-hw1 --bootstrap-server localhost:9092 --partitions 3 --replication-factor 2"
* В браузере перейти по адресу http://localhost:8080 для доступа к интерфейсу управления Kafka
  
### Запуск консьюмеров
* В проекте 'hw-consumer1' перейти в класс 'Consumer1' и запустить выполнение метода 'main'
* В проекте 'hw-consumer2' перейти в класс 'Consumer2' и запустить выполнение метода 'main'

### Запуск продюсера
* В проекте 'hw1-producer' перейти в класс 'Producer1' и запусить выполнение метода 'main'
* В процессе выполнения метода в кластер брокеров будет отправлено 150 сообщений
* Консьюмеры 1 и 2 получат данные сообщения
  

